/*
@module binding
@requires jQuery

Provides declarative data binding from JavaScript objects to DOM elements.
*/
/*
@private

Ignore event handler, avoids making functions for each property
*/
(function(){var e,t,n,r;n=function(){},t=function(e,t,r){return binder.proxyObject(t,n,function(t,n,r,i){return e.pubsubhub("data-bind-"+n).publish([t,r])}),e("[data-bind]",e(r)).each(function(n,r){return function(){var n,i,s;return s=e(r),n=s.attr("data-bind"),s.data("boundto.binder",t),s.is("input")?(i="val",s.on("change.binder keyup.binder keydown.binder mouseup.binder",function(e){return t[n]=s.val()})):i="text",s.data("boundto.callback",function(e){var t,r;t=e[0],r=e[1];if(s.data("boundto.binder")===t)return s[i](r),s.trigger("datachange",[s[0],t,n,r])}),e.pubsubhub("data-bind-"+n).subscribe(s.data("boundto.callback")),s[i](t[n])}()}),r},r=function(e,t){return e("[data-bind]",e(t)).each(function(t,n){var r,i;return i=e(n),r=i.data("bind"),i.off(".binder"),i.data("boundto.binder",null),e.pubsubhub("data-bind-"+r).unsubscribe(i.data("boundto.callback")),i.data("boundto.callback",null)}),t},e=jQuery,e.fn.extend({binder:function(n){var i;return i=e.fn.binder,this.each(function(i,s){return n?(r(e,s),t(e,n,s)):r(e,s)})}})}).call(this),function(){var e,t,n;e=["push","unshift","pop","shift","reverse","sort","splice"],t=function(n,r,i,s){var o,u,a,f,l,c,h;if(!n)return null;if(typeof n!="object")return n;if(n!=null?n.__proxied__:void 0)return n;r=r||function(e,t,n,r){},i=i||function(e,t,n,r){},s=s||{},o=function(e,o,u){return typeof u=="object"&&t(u,r,i,{parent:n}),r(n,e,o,s),i(n,e,u,s),u};for(a in n){f=n[a];if(Array.isArray(f)){l=function(){var e;return e=f[u],f[u]=function(){var s,o,u,l;r(n,a,f),o=e.apply(f,arguments);for(u=0,l=arguments.length;u<l;u++)s=arguments[u],t(s,r,i,{parent:f});return i(n,a,f),o}};for(c=0,h=e.length;c<h;c++)u=e[c],l()}f=t(f,r,i,{parent:n}),n.watch(a,o)}return Object.defineProperty(n,"__proxied__",{enumerable:!1,value:!0}),n},n=this,typeof module!="undefined"&&module!==null&&(typeof module!="undefined"&&module!==null?module.exports:void 0)&&(n=module.exports);if(n!=null?!n.binder:!void 0)n.binder={};n.binder.proxyObject=t}.call(this),function(){var e,t;e=jQuery,t={},e.pubsubhub=function(e){var n,r;return r=e&&t[e],r||(n=jQuery.Callbacks(),r={publish:n.fire,subscribe:n.add,unsubscribe:n.remove},t[e]=r),r}}.call(this),Object.prototype.watch||Object.defineProperty(Object.prototype,"watch",{enumerable:!1,configurable:!0,writable:!1,value:function(e,t){var n=this[e],r=n,i=function(){return r},s=function(i){return n=r,r=t.call(this,e,n,i)};delete this[e]&&Object.defineProperty(this,e,{get:i,set:s,enumerable:!0,configurable:!0})}}),Object.prototype.unwatch||Object.defineProperty(Object.prototype,"unwatch",{enumerable:!1,configurable:!0,writable:!1,value:function(e){var t=this[e];delete this[e],this[e]=t}});